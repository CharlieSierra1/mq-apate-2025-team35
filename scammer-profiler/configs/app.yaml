app:
  title: "Scammer Persona Profiler"
  theme: "light"            # light | dark

logging:
  level: "INFO"             # DEBUG | INFO | WARNING | ERROR

random_seed: 42

data:
  # Expected fields in uploaded/ingested data (extra columns are fine)
  expected_fields: ["id", "source", "text", "timestamp", "channel", "sender_id", "recipient_id", "meta"]
  language: "en"            # target working language for analysis

preprocessing:
  lang_filter: true         # keep only target_lang rows (via langdetect)
  target_lang: "en"
  pii_mask: true            # replace emails/phones/wallets with stable tokens
  dedupe:
    enabled: false          # optionally enable near-dup removal (implement LSH later)
    threshold: 0.90

features:
  tfidf_char:
    ngram_range: [3, 5]
    min_df: 5
    max_features: 60000
  tfidf_word:
    ngram_range: [1, 2]
    min_df: 5
    max_features: 60000
    stop_words: "english"

umap:
  n_neighbors: 30
  min_dist: 0.1
  n_components: 10
  metric: "cosine"

hdbscan:
  min_cluster_size: 30
  min_samples: null
  cluster_selection_epsilon: 0.0

network:
  text_sim_tau: 0.75        # threshold for connecting scammers by text similarity
  cooccurrence_min: 1       # min shared entity occurrences to draw an edge

ui:
  max_text_len: 500         # truncate long texts in hover/tooltips
  enable_bias_panel: true   # show bias checks & disclaimer panel
  sample_columns: ["id", "source", "timestamp", "cluster", "text"]

ethics:
  public_data_only: true
  false_positive_disclaimer: >
    Archetypes are probabilistic and may contain errors. Manual analyst review is required
    before any enforcement or user action. Avoid demographic attributes in features.

export:
  dir: "exports"
  rules_filename: "persona_rules.json"   # per-persona regex/lexicon/domain lists

